import{g as w,C as J,G as R,D as $,H as U,A as D,B as V,h as k,F as _,E as le,L as ie,o as ve,f as pe,b as ce}from"./app-BoZk32P-.js";import{o,k as de,m as fe,g as j,b as A,f as H,p as Q,u as M,t as be,i as W,w as me,a as Pe,h as ge,A as Z,c as G,l as he,N as Y,d as L,P as O,j as N,e as z}from"./keyboard-CQk8tYLo.js";function ee(l,a){if(l)return l;let i=a??"button";if(typeof i=="string"&&i.toLowerCase()==="button")return"button"}function ye(l,a){let i=w(ee(l.value.type,l.value.as));return J(()=>{i.value=ee(l.value.type,l.value.as)}),R(()=>{var d;i.value||o(a)&&o(a)instanceof HTMLButtonElement&&!((d=o(a))!=null&&d.hasAttribute("type"))&&(i.value="button")}),i}function Se(l,a,i,d){de.isServer||R(f=>{l=l??window,l.addEventListener(a,i,d),f(()=>l.removeEventListener(a,i,d))})}var B=(l=>(l[l.Forwards=0]="Forwards",l[l.Backwards=1]="Backwards",l))(B||{});function ne(){let l=w(0);return fe("keydown",a=>{a.key==="Tab"&&(l.value=a.shiftKey?1:0)}),l}function we({defaultContainers:l=[],portals:a,mainTreeNodeRef:i}={}){let d=w(null),f=j(d);function v(){var t,e,E;let g=[];for(let r of l)r!==null&&(r instanceof HTMLElement?g.push(r):"value"in r&&r.value instanceof HTMLElement&&g.push(r.value));if(a!=null&&a.value)for(let r of a.value)g.push(r);for(let r of(t=f==null?void 0:f.querySelectorAll("html > *, body > *"))!=null?t:[])r!==document.body&&r!==document.head&&r instanceof HTMLElement&&r.id!=="headlessui-portal-root"&&(r.contains(o(d))||r.contains((E=(e=o(d))==null?void 0:e.getRootNode())==null?void 0:E.host)||g.some(h=>r.contains(h))||g.push(r));return g}return{resolveContainers:v,contains(t){return v().some(e=>e.contains(t))},mainTreeNodeRef:d,MainTreeNode(){return i!=null?null:$(H,{features:A.Hidden,ref:d})}}}function Ee(){let l=w(null);return{mainTreeNodeRef:l,MainTreeNode(){return $(H,{features:A.Hidden,ref:l})}}}let te=Symbol("PortalParentContext");function $e(){let l=U(te,null),a=w([]);function i(v){return a.value.push(v),l&&l.register(v),()=>d(v)}function d(v){let t=a.value.indexOf(v);t!==-1&&a.value.splice(t,1),l&&l.unregister(v)}let f={register:i,unregister:d,portals:a};return[a,D({name:"PortalWrapper",setup(v,{slots:t}){return V(te,f),()=>{var e;return(e=t.default)==null?void 0:e.call(t)}}})]}var Fe=(l=>(l[l.Open=0]="Open",l[l.Closed=1]="Closed",l))(Fe||{});let oe=Symbol("PopoverContext");function X(l){let a=U(oe,null);if(a===null){let i=new Error(`<${l} /> is missing a parent <${Ie.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,X),i}return a}let ae=Symbol("PopoverGroupContext");function ue(){return U(ae,null)}let re=Symbol("PopoverPanelContext");function ke(){return U(re,null)}let Ie=D({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(l,{slots:a,attrs:i,expose:d}){var f;let v=w(null);d({el:v,$el:v});let t=w(1),e=w(null),E=w(null),g=w(null),r=w(null),h=k(()=>j(v)),b=k(()=>{var n,s;if(!o(e)||!o(r))return!1;for(let q of document.querySelectorAll("body > *"))if(Number(q==null?void 0:q.contains(o(e)))^Number(q==null?void 0:q.contains(o(r))))return!0;let u=Q(),y=u.indexOf(o(e)),x=(y+u.length-1)%u.length,C=(y+1)%u.length,K=u[x],se=u[C];return!((n=o(r))!=null&&n.contains(K))&&!((s=o(r))!=null&&s.contains(se))}),p={popoverState:t,buttonId:w(null),panelId:w(null),panel:r,button:e,isPortalled:b,beforePanelSentinel:E,afterPanelSentinel:g,togglePopover(){t.value=M(t.value,{0:1,1:0})},closePopover(){t.value!==1&&(t.value=1)},close(n){p.closePopover();let s=n?n instanceof HTMLElement?n:n.value instanceof HTMLElement?o(n):o(p.button):o(p.button);s==null||s.focus()}};V(oe,p),be(k(()=>M(t.value,{0:W.Open,1:W.Closed})));let F={buttonId:p.buttonId,panelId:p.panelId,close(){p.closePopover()}},S=ue(),I=S==null?void 0:S.registerPopover,[T,m]=$e(),P=we({mainTreeNodeRef:S==null?void 0:S.mainTreeNodeRef,portals:T,defaultContainers:[e,r]});function c(){var n,s,u,y;return(y=S==null?void 0:S.isFocusWithinPopoverGroup())!=null?y:((n=h.value)==null?void 0:n.activeElement)&&(((s=o(e))==null?void 0:s.contains(h.value.activeElement))||((u=o(r))==null?void 0:u.contains(h.value.activeElement)))}return R(()=>I==null?void 0:I(F)),Se((f=h.value)==null?void 0:f.defaultView,"focus",n=>{var s,u;n.target!==window&&n.target instanceof HTMLElement&&t.value===0&&(c()||e&&r&&(P.contains(n.target)||(s=o(p.beforePanelSentinel))!=null&&s.contains(n.target)||(u=o(p.afterPanelSentinel))!=null&&u.contains(n.target)||p.closePopover()))},!0),me(P.resolveContainers,(n,s)=>{var u;p.closePopover(),Pe(s,ge.Loose)||(n.preventDefault(),(u=o(e))==null||u.focus())},k(()=>t.value===0)),()=>{let n={open:t.value===0,close:p.close};return $(_,[$(m,{},()=>Z({theirProps:{...l,...i},ourProps:{ref:v},slot:n,slots:a,attrs:i,name:"Popover"})),$(P.MainTreeNode)])}}}),Be=D({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(l,{attrs:a,slots:i,expose:d}){var f;let v=(f=l.id)!=null?f:`headlessui-popover-button-${G()}`,t=X("PopoverButton"),e=k(()=>j(t.button));d({el:t.button,$el:t.button}),J(()=>{t.buttonId.value=v}),le(()=>{t.buttonId.value=null});let E=ue(),g=E==null?void 0:E.closeOthers,r=ke(),h=k(()=>r===null?!1:r.value===t.panelId.value),b=w(null),p=`headlessui-focus-sentinel-${G()}`;h.value||R(()=>{t.button.value=o(b)});let F=ye(k(()=>({as:l.as,type:a.type})),b);function S(n){var s,u,y,x,C;if(h.value){if(t.popoverState.value===1)return;switch(n.key){case L.Space:case L.Enter:n.preventDefault(),(u=(s=n.target).click)==null||u.call(s),t.closePopover(),(y=o(t.button))==null||y.focus();break}}else switch(n.key){case L.Space:case L.Enter:n.preventDefault(),n.stopPropagation(),t.popoverState.value===1&&(g==null||g(t.buttonId.value)),t.togglePopover();break;case L.Escape:if(t.popoverState.value!==0)return g==null?void 0:g(t.buttonId.value);if(!o(t.button)||(x=e.value)!=null&&x.activeElement&&!((C=o(t.button))!=null&&C.contains(e.value.activeElement)))return;n.preventDefault(),n.stopPropagation(),t.closePopover();break}}function I(n){h.value||n.key===L.Space&&n.preventDefault()}function T(n){var s,u;l.disabled||(h.value?(t.closePopover(),(s=o(t.button))==null||s.focus()):(n.preventDefault(),n.stopPropagation(),t.popoverState.value===1&&(g==null||g(t.buttonId.value)),t.togglePopover(),(u=o(t.button))==null||u.focus()))}function m(n){n.preventDefault(),n.stopPropagation()}let P=ne();function c(){let n=o(t.panel);if(!n)return;function s(){M(P.value,{[B.Forwards]:()=>O(n,N.First),[B.Backwards]:()=>O(n,N.Last)})===z.Error&&O(Q().filter(u=>u.dataset.headlessuiFocusGuard!=="true"),M(P.value,{[B.Forwards]:N.Next,[B.Backwards]:N.Previous}),{relativeTo:o(t.button)})}s()}return()=>{let n=t.popoverState.value===0,s={open:n},{...u}=l,y=h.value?{ref:b,type:F.value,onKeydown:S,onClick:T}:{ref:b,id:v,type:F.value,"aria-expanded":t.popoverState.value===0,"aria-controls":o(t.panel)?t.panelId.value:void 0,disabled:l.disabled?!0:void 0,onKeydown:S,onKeyup:I,onClick:T,onMousedown:m};return $(_,[Z({ourProps:y,theirProps:{...a,...u},slot:s,attrs:a,slots:i,name:"PopoverButton"}),n&&!h.value&&t.isPortalled.value&&$(H,{id:p,features:A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:c})])}}}),Ce=D({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(l,{attrs:a,slots:i,expose:d}){var f;let v=(f=l.id)!=null?f:`headlessui-popover-panel-${G()}`,{focus:t}=l,e=X("PopoverPanel"),E=k(()=>j(e.panel)),g=`headlessui-focus-sentinel-before-${G()}`,r=`headlessui-focus-sentinel-after-${G()}`;d({el:e.panel,$el:e.panel}),J(()=>{e.panelId.value=v}),le(()=>{e.panelId.value=null}),V(re,e.panelId),R(()=>{var m,P;if(!t||e.popoverState.value!==0||!e.panel)return;let c=(m=E.value)==null?void 0:m.activeElement;(P=o(e.panel))!=null&&P.contains(c)||O(o(e.panel),N.First)});let h=he(),b=k(()=>h!==null?(h.value&W.Open)===W.Open:e.popoverState.value===0);function p(m){var P,c;switch(m.key){case L.Escape:if(e.popoverState.value!==0||!o(e.panel)||E.value&&!((P=o(e.panel))!=null&&P.contains(E.value.activeElement)))return;m.preventDefault(),m.stopPropagation(),e.closePopover(),(c=o(e.button))==null||c.focus();break}}function F(m){var P,c,n,s,u;let y=m.relatedTarget;y&&o(e.panel)&&((P=o(e.panel))!=null&&P.contains(y)||(e.closePopover(),((n=(c=o(e.beforePanelSentinel))==null?void 0:c.contains)!=null&&n.call(c,y)||(u=(s=o(e.afterPanelSentinel))==null?void 0:s.contains)!=null&&u.call(s,y))&&y.focus({preventScroll:!0})))}let S=ne();function I(){let m=o(e.panel);if(!m)return;function P(){M(S.value,{[B.Forwards]:()=>{var c;O(m,N.First)===z.Error&&((c=o(e.afterPanelSentinel))==null||c.focus())},[B.Backwards]:()=>{var c;(c=o(e.button))==null||c.focus({preventScroll:!0})}})}P()}function T(){let m=o(e.panel);if(!m)return;function P(){M(S.value,{[B.Forwards]:()=>{let c=o(e.button),n=o(e.panel);if(!c)return;let s=Q(),u=s.indexOf(c),y=s.slice(0,u+1),x=[...s.slice(u+1),...y];for(let C of x.slice())if(C.dataset.headlessuiFocusGuard==="true"||n!=null&&n.contains(C)){let K=x.indexOf(C);K!==-1&&x.splice(K,1)}O(x,N.First,{sorted:!1})},[B.Backwards]:()=>{var c;O(m,N.Previous)===z.Error&&((c=o(e.button))==null||c.focus())}})}P()}return()=>{let m={open:e.popoverState.value===0,close:e.close},{focus:P,...c}=l,n={ref:e.panel,id:v,onKeydown:p,onFocusout:t&&e.popoverState.value===0?F:void 0,tabIndex:-1};return Z({ourProps:n,theirProps:{...a,...c},attrs:a,slot:m,slots:{...i,default:(...s)=>{var u;return[$(_,[b.value&&e.isPortalled.value&&$(H,{id:g,ref:e.beforePanelSentinel,features:A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:I}),(u=i.default)==null?void 0:u.call(i,...s),b.value&&e.isPortalled.value&&$(H,{id:r,ref:e.afterPanelSentinel,features:A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:T})])]}},features:Y.RenderStrategy|Y.Static,visible:b.value,name:"PopoverPanel"})}}}),Ne=D({name:"PopoverGroup",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(l,{attrs:a,slots:i,expose:d}){let f=w(null),v=ie([]),t=k(()=>j(f)),e=Ee();d({el:f,$el:f});function E(b){let p=v.value.indexOf(b);p!==-1&&v.value.splice(p,1)}function g(b){return v.value.push(b),()=>{E(b)}}function r(){var b;let p=t.value;if(!p)return!1;let F=p.activeElement;return(b=o(f))!=null&&b.contains(F)?!0:v.value.some(S=>{var I,T;return((I=p.getElementById(S.buttonId.value))==null?void 0:I.contains(F))||((T=p.getElementById(S.panelId.value))==null?void 0:T.contains(F))})}function h(b){for(let p of v.value)p.buttonId.value!==b&&p.close()}return V(ae,{registerPopover:g,unregisterPopover:E,isFocusWithinPopoverGroup:r,closeOthers:h,mainTreeNodeRef:e.mainTreeNodeRef}),()=>$(_,[Z({ourProps:{ref:f},theirProps:{...l,...a},slot:{},attrs:a,slots:i,name:"PopoverGroup"}),$(e.MainTreeNode)])}});function Le(l,a){return ve(),pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ce("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}export{Ne as A,Be as G,Ce as j,Le as r,ye as s,Ie as y};
