import{g as v,T as j,j as N,h as D,c as _,w as c,o as r,b as n,f as o,t as u,F as x,r as h,l as p,u as s,a as d,d as f,i as k,e as L,n as C,q as y,z as A,R as V,v as S,x as B}from"./app-BoZk32P-.js";import{S as M}from"./SellerAuthenticatedLayout-CZh4W8wd.js";import{_ as F,a as O,b as E}from"./TextInput-D7Qs5wWh.js";import{_ as w}from"./PrimaryButton--ycFbq9I.js";import{_ as G}from"./Checkbox-BGE71yGe.js";import{r as R}from"./ChevronDoubleRightIcon-CEQLt3Mh.js";import{y as X,G as Q,r as H,j as I,A as J}from"./ChevronDownIcon-BuPPLtHB.js";import"./Toast-BnPjMgb5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./keyboard-CQk8tYLo.js";const K={class:"flex flex-col gap-10 mt-5"},W={class:"flex items-center justify-between px-8"},Y={key:0},Z={class:"font-semibold text-xl text-[#008a8e] leading-tight"},ee={key:1,class:"flex"},te={class:"font-semibold text-xl text-gray-900 leading-tight"},ae={class:"flex flex-row items-end"},se={key:0,class:"mr-2 text-2xl leading-tight"},re={class:"font-semibold text-2xl text-[#008a8e] leading-tight"},le={class:"grid grid-cols-8 gap-6"},oe=["name","id","onUpdate:modelValue"],de=["value"],ne=["id","type","onUpdate:modelValue"],ie=["id","type","onUpdate:modelValue"],ce=["id","type","onUpdate:modelValue"],me={key:4,class:"sticky flex flex-col"},ue=["id"],fe={class:"flex items-center w-1/12 flex-shrink-0 mr-2"},ye={class:"ms-2 text-sm text-gray-900 leading-none"},ge={key:0},be=["onUpdate:modelValue"],xe={class:"flex flex-row gap-5 mt-5"},$e={__name:"ProductRegister",props:{categoryList:{type:Object,required:!0},pageTitle:{type:String,required:!0},rootPath:{type:Array,required:!0},actionName:{type:String,required:!0},actionPage:{type:String,required:!0}},setup(i){const U=[{label:"Name",name:"name",type:"text",span:"col-span-8"},{label:"Category",name:"category_id",span:"col-span-4"},{label:"Price ($)",name:"price",type:"number",span:"col-span-4"},{label:"Discount (%)",name:"discount",type:"number",span:"col-span-4"},{label:"Discounted Price ($)",name:"discounted_price",type:"number",span:"col-span-4"},{label:"Sizes: Qty",name:"sizes",span:"col-span-8"},{label:"Description",name:"description",type:"text",span:"col-span-8"}],g=["XS","S","M","L","XL"],T=v(0),$=v(0),a=j({user_id:1,name:"",category_id:null,price:T.value,discount:$.value,discounted_price:0,ratings:0,reviews:0,sizes:{},description:""});N([()=>a.price,()=>a.discount],()=>{a.discounted_price=(a.price*(100-a.discount)/100).toFixed(2)});const q=D(()=>{const m=Object.entries(a.sizes).sort((l,e)=>{const t=g.indexOf(l[0]),b=g.indexOf(e[0]);return t-b});return m.length?m.map(([l,e])=>`${l}: ${e}`).join(", "):"None"}),z=(m,l,e)=>{m.hasOwnProperty(l)?delete m[l]:e.includes(l)&&(m[l]=0)},P=()=>{a.post(route("product.store"),{onSuccess:()=>a.reset()})};return(m,l)=>(r(),_(M,{title:i.pageTitle},{default:c(()=>[n("div",K,[n("div",W,[i.pageTitle==i.rootPath[0]?(r(),o("div",Y,[n("h2",Z,u(i.pageTitle),1)])):(r(),o("div",ee,[(r(!0),o(x,null,h(i.rootPath,e=>(r(),o("div",te,[n("div",ae,[e!=i.pageTitle?(r(),o("h1",se,u(e),1)):p("",!0),e!=i.pageTitle?(r(),_(s(R),{key:1,class:"mr-2 size-7 text-gray-400"})):p("",!0)])]))),256)),n("div",re,u(i.pageTitle),1)])),d(s(k),{class:"w-24",href:i.actionPage},{default:c(()=>[d(w,{class:"w-full justify-center"},{default:c(()=>[f(u(i.actionName),1)]),_:1})]),_:1},8,["href"])]),n("form",{class:"w-full max-w-xl m-auto px-6 py-6 mb-6 bg-white rounded-lg border border-t-gray-200",onSubmit:L(P,["prevent"])},[n("div",le,[(r(),o(x,null,h(U,e=>n("div",{class:C(e.span)},[d(F,{class:"mb-2",for:e.name,value:e.label},null,8,["for","value"]),e.name=="category_id"?y((r(),o("select",{key:0,class:"w-full rounded-md border-gray-300 shadow-sm text-gray-900 focus:border-[#00adb5] focus:ring-[#00adb5] hover:cursor-pointer",name:e.name,id:e.name,"onUpdate:modelValue":t=>s(a)[e.name]=t,required:""},[(r(!0),o(x,null,h(i.categoryList,t=>(r(),o("option",{key:t.id,value:t.id},u(t.name),9,de))),128))],8,oe)),[[A,s(a)[e.name]]]):e.name=="price"||e.name=="discount"?y((r(),o("input",{key:1,class:"w-full rounded-md border-gray-300 text-gray-900 shadow-sm focus:border-[#00adb5] focus:ring-[#00adb5]",id:e.name,type:e.type,step:"0.01","onUpdate:modelValue":t=>s(a)[e.name]=t,required:""},null,8,ne)),[[V,s(a)[e.name]]]):e.name=="discounted_price"?y((r(),o("input",{key:2,class:"w-full rounded-md border-gray-300 text-gray-900 shadow-sm focus:border-[#00adb5] focus:ring-[#00adb5] bg-gray-200",id:e.name,type:e.type,step:"0.01","onUpdate:modelValue":t=>s(a)[e.name]=t,disabled:""},null,8,ie)),[[V,s(a)[e.name]]]):e.name=="description"?y((r(),o("textarea",{key:3,class:"w-full rounded-md border-gray-300 text-gray-900 shadow-sm focus:border-[#00adb5] focus:ring-[#00adb5] scrollbar-hide",rows:"3",id:e.name,type:e.type,"onUpdate:modelValue":t=>s(a)[e.name]=t,required:""},null,8,ce)),[[S,s(a)[e.name]]]):e.name=="sizes"?(r(),o("div",me,[d(s(J),null,{default:c(()=>[d(s(X),null,{default:c(()=>[d(s(Q),{tabindex:"1",class:"h-10 pl-2 flex justify-between items-center w-full rounded-md border text-gray-900 border-gray-300 shadow-sm box-border overflow-hidden text-ellipsis whitespace-nowrap focus:border-2 focus:border-[#00adb5]",id:e.name},{default:c(()=>[f(u(q.value)+" ",1),d(s(H),{class:"size-7/12 w-7 mr-1 text-gray-500"})]),_:2},1032,["id"]),d(B,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-1"},{default:c(()=>[d(s(I),{class:"absolute z-50 overflow-hidden rounded-lg bg-white shadow-lg h-fit w-full flex flex-col px-5 py-2 border border-gray-300"},{default:c(()=>[(r(),o(x,null,h(g,t=>n("div",{class:"flex items-center h-10",key:t,id:t},[n("div",fe,[d(G,{value:t,id:t,checked:s(a)[e.name][t]!==void 0,onChange:b=>z(s(a)[e.name],t,g)},null,8,["value","id","checked","onChange"]),n("span",ye,u(t),1)]),s(a)[e.name][t]!==void 0?(r(),o("div",ge,[l[0]||(l[0]=f(" : ")),y(n("input",{class:"text-xs p-1 leading-none rounded-sm",type:"number",min:"0","onUpdate:modelValue":b=>s(a)[e.name][t]=b},null,8,be),[[S,s(a)[e.name][t],void 0,{number:!0}]])])):p("",!0)],8,ue)),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])):(r(),_(O,{key:5,class:"w-full text-gray-900",id:e.name,type:e.type,modelValue:s(a)[e.name],"onUpdate:modelValue":t=>s(a)[e.name]=t,required:""},null,8,["id","type","modelValue","onUpdate:modelValue"])),d(E,{class:"mt-2",message:s(a).errors[e.name]},null,8,["message"])],2)),64))]),n("div",xe,[d(w,{class:"w-24 justify-center",type:"submit",as:"button"},{default:c(()=>l[1]||(l[1]=[f(" save ")])),_:1}),d(s(k),{class:"w-24",href:m.route("product.index"),as:"a"},{default:c(()=>[d(w,{class:"w-full justify-center bg-red-600 text-white hover:bg-red-700"},{default:c(()=>l[2]||(l[2]=[f(" cancel ")])),_:1})]),_:1},8,["href"])])],32)])]),_:1},8,["title"]))}};export{$e as default};
