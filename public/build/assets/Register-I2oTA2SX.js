import{T as q,g as y,h as A,j as B,c as b,w as p,o as i,b as o,f as u,r as k,n as c,a as d,u as e,k as x,l as C,F as V,t as S,d as N,i as $,e as j}from"./app-BoZk32P-.js";import{_ as T}from"./GuestLayout-DjonmhsO.js";import{_ as U,a as E,b as z}from"./TextInput-D7Qs5wWh.js";import{_ as D}from"./PrimaryButton--ycFbq9I.js";import{l as I,i as M,u as G,r as H,S as J}from"./transition-DqsJXyid.js";import{r as K}from"./CheckIcon-D58sfvjG.js";import"./Toast-BnPjMgb5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./keyboard-CQk8tYLo.js";const O={class:"grid grid-cols-12 gap-5"},Q={class:"relative mt-1"},W={class:"relative w-full cursor-default overflow-hidden border-none box-border"},X={key:0,class:"relative cursor-default select-none px-4 py-2 text-gray-700"},Y=["id","type","value"],Z={class:"mt-5 flex items-center justify-end"},ee={class:"flex flex-row justify-center items-center gap-1 pt-5"},pe={__name:"Register",props:{postalList:{type:Array,required:!0}},setup(P){const L=P,r=q({name:"",email:"",password:"",password_confirmation:"",address_line:"",phone_number:"",postal_id:""}),F=()=>{r.post(route("register"),{onFinish:()=>r.reset()})},R=[{label:"Name",name:"name",type:"text",span:"col-span-6"},{label:"Email",name:"email",type:"email",span:"col-span-6"},{label:"Password",name:"password",type:"password",span:"col-span-6"},{label:"Password Confirmation",name:"password_confirmation",type:"password",span:"col-span-6"},{label:"Address Line",name:"address_line",type:"text",span:"col-span-12"},{label:"Phone Number",name:"phone_number",type:"text",span:"col-span-6"},{label:"Postal Code",name:"postal_id",span:"col-span-6"},{label:"City",name:"city",type:"text",span:"col-span-6"},{label:"Province",name:"province",type:"text",span:"col-span-6"}],w=L.postalList.map(t=>({id:t.postal_id,postalCode:t.postal_code,city:t.city,province:t.province}));let m=y(""),n=y(""),h=A(()=>n.value===""?w:w.filter(t=>t.postalCode.replace(/\s+/g,"").includes(n.value.replace(/\s+/g,"")))),g=y(""),v=y("");return B(m,t=>{t?(g.value=t.city,v.value=t.province,r.postal_id=t.id):(g.value="",v.value="",r.postal_id="")}),(t,l)=>(i(),b(T,{title:"Register",width:"max-w-2xl"},{default:p(()=>[o("form",{onSubmit:j(F,["prevent"]),class:"text-gray-700 px-1 overflow-scroll scrollbar-hide"},[o("div",O,[(i(),u(V,null,k(R,a=>o("div",{key:a.name,class:c(a.span)},[d(U,{for:a.name,value:a.label},null,8,["for","value"]),a.name=="postal_id"?(i(),b(e(I),{key:0,modelValue:e(m),"onUpdate:modelValue":l[2]||(l[2]=s=>x(m)?m.value=s:m=s)},{default:p(()=>[o("div",Q,[o("div",W,[d(e(M),{class:"w-full focus:ring-0 border rounded-md border-gray-300 shadow-sm leading-normal focus:border-[#00adb5] focus:ring-[#00adb5] focus:border-2 focus:leading-none",displayValue:s=>s.postalCode,onChange:l[0]||(l[0]=s=>x(n)?n.value=s.target.value:n=s.target.value)},null,8,["displayValue"])]),d(e(J),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:l[1]||(l[1]=s=>x(n)?n.value="":n="")},{default:p(()=>[d(e(G),{class:"absolute mt-1 max-h-20 w-full overflow-hidden rounded-md bg-white text-base shadow-lg ring-1 ring-black/5 focus:outline-none scrollbar-hide"},{default:p(()=>[e(h).length===0&&e(n)!==""?(i(),u("div",X," Nothing found. ")):C("",!0),(i(!0),u(V,null,k(e(h),s=>(i(),b(e(H),{as:"template",key:s.id,value:s},{default:p(({selected:_,active:f})=>[o("li",{class:c(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-teal-600 text-white":f,"text-gray-900":!f}])},[o("span",{class:c(["block truncate",{"font-medium":_,"font-normal":!_}])},S(s.postalCode),3),_?(i(),u("span",{key:0,class:c(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":f,"text-teal-600":!f}])},[d(e(K),{class:"h-5 w-5","aria-hidden":"true"})],2)):C("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"])):a.name=="city"||a.name=="province"?(i(),u("input",{key:1,id:a.name,type:a.type,class:"mt-1 block w-full bg-gray-200 rounded-md border-gray-300 shadow-sm focus:border-[#00adb5] focus:ring-[#00adb5]",value:a.name=="city"?e(g):e(v),required:"",disabled:""},null,8,Y)):(i(),b(E,{key:2,id:a.name,type:a.type,class:"mt-1 block w-full",modelValue:e(r)[a.name],"onUpdate:modelValue":s=>e(r)[a.name]=s,required:""},null,8,["id","type","modelValue","onUpdate:modelValue"])),d(z,{class:"mt-2",message:e(r).errors[a.name]},null,8,["message"])],2)),64))]),o("div",Z,[d(D,{class:c({"opacity-25":e(r).processing}),disabled:e(r).processing},{default:p(()=>l[3]||(l[3]=[N(" Register ")])),_:1},8,["class","disabled"])]),o("div",ee,[l[5]||(l[5]=o("p",{class:"rounded-md text-sm text-gray-600"}," Already Registered? ",-1)),d(e($),{class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900",href:t.route("login")},{default:p(()=>l[4]||(l[4]=[N(" Log In ")])),_:1},8,["href"])])],32)]),_:1}))}};export{pe as default};
