import{g as _,T as D,j as L,h as C,c as w,w as m,o as r,b as n,f as o,t as f,F as p,r as x,l as v,u as s,a as l,d as y,i as V,e as A,n as B,q as g,z as M,R as S,v as z,x as O}from"./app-BoZk32P-.js";import{S as E}from"./SellerAuthenticatedLayout-CZh4W8wd.js";import{_ as F,a as G,b as X}from"./TextInput-D7Qs5wWh.js";import{_ as k}from"./PrimaryButton--ycFbq9I.js";import{_ as Q}from"./Checkbox-BGE71yGe.js";import{r as R}from"./ChevronDoubleRightIcon-CEQLt3Mh.js";import{y as H,G as I,r as J,j as K,A as W}from"./ChevronDownIcon-BuPPLtHB.js";import"./Toast-BnPjMgb5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./keyboard-CQk8tYLo.js";const Y={class:"flex flex-col gap-10 mt-5"},Z={class:"flex items-center justify-between px-8"},ee={key:0},ae={class:"font-semibold text-xl text-[#008a8e] leading-tight"},te={key:1,class:"flex"},se={class:"font-semibold text-xl text-gray-900 leading-tight"},re={class:"flex flex-row items-end"},de={key:0,class:"mr-2 text-2xl leading-tight"},oe={class:"font-semibold text-2xl text-[#008a8e] leading-tight"},le={class:"grid grid-cols-8 gap-6"},ne=["name","id","onUpdate:modelValue"],ie=["value"],ce=["id","type","onUpdate:modelValue"],me=["id","type","onUpdate:modelValue"],ue=["id","type","onUpdate:modelValue"],fe={key:4,class:"sticky flex flex-col"},ye=["id"],ge={class:"flex items-center w-1/12 flex-shrink-0 mr-2"},be={class:"ms-2 text-sm text-gray-900 leading-none"},he={key:0},pe=["onUpdate:modelValue"],xe={class:"flex flex-row gap-5 mt-5"},$e={__name:"ProductEdit",props:{categoryList:{type:Object,required:!0},data:{type:Object,required:!0},pageTitle:{type:String,required:!0},rootPath:{type:Array,required:!0},actionName:{type:String,required:!0},actionPage:{type:String,required:!0}},setup(i){const c=i,U=[{label:"Name",name:"name",type:"text",span:"col-span-8"},{label:"Category",name:"category_id",span:"col-span-4"},{label:"Price ($)",name:"price",type:"number",span:"col-span-4"},{label:"Discount (%)",name:"discount",type:"number",span:"col-span-4"},{label:"Discounted Price ($)",name:"discounted_price",type:"number",span:"col-span-4"},{label:"Sizes: Qty",name:"sizes",span:"col-span-8"},{label:"Description",name:"description",type:"text",span:"col-span-8"}],q=_(c.data.sizes||{}),b=["XS","S","M","L","XL"],T=_(c.data.price),$=_(c.data.discount),t=D({user_id:1,name:c.data.name,category_id:c.data.category.id,price:T.value,discount:$.value,discounted_price:c.data.discounted_price,ratings:c.data.ratings,reviews:c.data.reviews,sizes:q.value,description:c.data.description});L([()=>t.price,()=>t.discount],()=>{t.discounted_price=(t.price*(100-t.discount)/100).toFixed(2)});const j=C(()=>{const u=Object.entries(t.sizes).sort((d,e)=>{const a=b.indexOf(d[0]),h=b.indexOf(e[0]);return a-h});return u.length?u.map(([d,e])=>`${d}: ${e}`).join(", "):"None"}),P=(u,d,e)=>{u.hasOwnProperty(d)?delete u[d]:e.includes(d)&&(u[d]=0)},N=()=>{t.put(route("product.update",c.data.id),{onSuccess:()=>t.reset()})};return(u,d)=>(r(),w(E,{title:i.pageTitle},{default:m(()=>[n("div",Y,[n("div",Z,[i.pageTitle==i.rootPath[0]?(r(),o("div",ee,[n("h2",ae,f(i.pageTitle),1)])):(r(),o("div",te,[(r(!0),o(p,null,x(i.rootPath,e=>(r(),o("div",se,[n("div",re,[e!=i.pageTitle?(r(),o("h1",de,f(e),1)):v("",!0),e!=i.pageTitle?(r(),w(s(R),{key:1,class:"mr-2 size-7 text-gray-400"})):v("",!0)])]))),256)),n("div",oe,f(i.pageTitle),1)])),l(s(V),{class:"w-24",href:i.actionPage},{default:m(()=>[l(k,{class:"w-full justify-center"},{default:m(()=>[y(f(i.actionName),1)]),_:1})]),_:1},8,["href"])]),n("form",{class:"w-full max-w-xl m-auto px-6 py-6 mb-6 bg-white rounded-lg border border-t-gray-200",onSubmit:A(N,["prevent"])},[n("div",le,[(r(),o(p,null,x(U,e=>n("div",{class:B(e.span)},[l(F,{class:"mb-2",for:e.name,value:e.label},null,8,["for","value"]),e.name=="category_id"?g((r(),o("select",{key:0,class:"w-full rounded-md border-gray-300 shadow-sm text-gray-900 focus:border-[#00adb5] focus:ring-[#00adb5] hover:cursor-pointer",name:e.name,id:e.name,"onUpdate:modelValue":a=>s(t)[e.name]=a,required:""},[(r(!0),o(p,null,x(i.categoryList,a=>(r(),o("option",{key:a.id,value:a.id},f(a.name),9,ie))),128))],8,ne)),[[M,s(t)[e.name]]]):e.name=="price"||e.name=="discount"?g((r(),o("input",{key:1,class:"w-full rounded-md border-gray-300 text-gray-900 shadow-sm focus:border-[#00adb5] focus:ring-[#00adb5]",id:e.name,type:e.type,step:"0.01","onUpdate:modelValue":a=>s(t)[e.name]=a,required:""},null,8,ce)),[[S,s(t)[e.name]]]):e.name=="discounted_price"?g((r(),o("input",{key:2,class:"w-full rounded-md border-gray-300 text-gray-900 shadow-sm focus:border-[#00adb5] focus:ring-[#00adb5] bg-gray-200",id:e.name,type:e.type,step:"0.01","onUpdate:modelValue":a=>s(t)[e.name]=a,disabled:""},null,8,me)),[[S,s(t)[e.name]]]):e.name=="description"?g((r(),o("textarea",{key:3,class:"w-full rounded-md border-gray-300 text-gray-900 shadow-sm focus:border-[#00adb5] focus:ring-[#00adb5] scrollbar-hide",rows:"3",id:e.name,type:e.type,"onUpdate:modelValue":a=>s(t)[e.name]=a,required:""},null,8,ue)),[[z,s(t)[e.name]]]):e.name=="sizes"?(r(),o("div",fe,[l(s(W),null,{default:m(()=>[l(s(H),null,{default:m(()=>[l(s(I),{tabindex:"1",class:"h-10 pl-2 flex justify-between items-center w-full rounded-md border text-gray-900 border-gray-300 shadow-sm box-border overflow-hidden text-ellipsis whitespace-nowrap focus:border-2 focus:border-[#00adb5]",id:e.name},{default:m(()=>[y(f(j.value)+" ",1),l(s(J),{class:"size-7/12 w-7 mr-1 text-gray-500"})]),_:2},1032,["id"]),l(O,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-1"},{default:m(()=>[l(s(K),{class:"absolute z-50 overflow-hidden rounded-lg bg-white shadow-lg h-fit w-full flex flex-col px-5 py-2 border border-gray-300"},{default:m(()=>[(r(),o(p,null,x(b,a=>n("div",{class:"flex items-center h-10",key:a,id:a},[n("div",ge,[l(Q,{value:a,id:a,checked:s(t)[e.name][a]!==void 0,onChange:h=>P(s(t)[e.name],a,b)},null,8,["value","id","checked","onChange"]),n("span",be,f(a),1)]),s(t)[e.name][a]!==void 0?(r(),o("div",he,[d[0]||(d[0]=y(" : ")),g(n("input",{class:"text-xs p-1 leading-none rounded-sm",type:"number",min:"0","onUpdate:modelValue":h=>s(t)[e.name][a]=h},null,8,pe),[[z,s(t)[e.name][a],void 0,{number:!0}]])])):v("",!0)],8,ye)),64))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])):(r(),w(G,{key:5,class:"w-full text-gray-900",id:e.name,type:e.type,modelValue:s(t)[e.name],"onUpdate:modelValue":a=>s(t)[e.name]=a,required:""},null,8,["id","type","modelValue","onUpdate:modelValue"])),l(X,{class:"mt-2",message:s(t).errors[e.name]},null,8,["message"])],2)),64))]),n("div",xe,[l(k,{class:"w-24 justify-center",type:"submit",as:"button"},{default:m(()=>d[1]||(d[1]=[y(" update ")])),_:1}),l(s(V),{class:"w-24",href:u.route("product.show",c.data.id),as:"a"},{default:m(()=>[l(k,{class:"w-full justify-center bg-red-600 text-white hover:bg-red-700"},{default:m(()=>d[2]||(d[2]=[y(" cancel ")])),_:1})]),_:1},8,["href"])])],32)])]),_:1},8,["title"]))}};export{$e as default};
